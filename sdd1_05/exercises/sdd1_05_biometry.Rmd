---
title: "Remaniement de données - biométrie"
author: "Guyliann Engels & Philippe Grosjean"
date: "29/10/2018"
output:
  md_document:
    variant: markdown_github
---

```{r setup, echo=FALSE, message=FALSE, results='hide'}
SciViews::R
iframe <- function(file, width = 800, height = 600)
  glue::glue('<iframe src="http://hosting.umons.ac.be/html/s807/sdd/sdd1_02/{file}" width="{width}" height="{height}" style="border:none;"></iframe>')
```

Challenge relatif au cours de [Science des Données Biologiques I de l'Université de Mons, module 05](http://biodatascience-course.sciviews.org/sdd-umons/import.html).

![](../../template/biodatascience.png)


## Objectif

- Vous exercer à la manipulation des données sur le jeu de données `biometry`.


## Procédure

Reprenez votre projet sur l'étude de la biométrie humaine en Hainaut et complétez votre rapport, ou ouvrez un document R Markdown séparé pour répondre aux challenges suivants. Utilisez la version *complètement* francisée du jeu de données, importé à l'aide de l'instruction :

```{r}
(biometry <- read("biometry", package = "BioDataScience", lang = "FR"))
```

A chaque fois, utilisez un chainage des opérations lorsque cela se justifie et prenez soin d'écrire un code **clair**, **lisible**, et qui utilise les fonctions *ad hoc* de manière optimale (recherchez une solution concise et efficace).

- Sur base de la date de naissance (`day_birth`) et sur l'année de la mesure (`year_measure`), calculez l'âge des individus lors de la prise de mesure. Vérifiez vos calculs en comparant vos résultats avec la variable `age`.

- Calculer l'IMC (BMI en anglais) dans la population étudiée et créez une variable afin d'y associer l'interprétation fournie par l'OMS (dans une variable nommée `bmi`). 

|IMC (kg/m^2^)      | Interprétation (selon l’OMS)                    |
|:------------------|:-----------------------------------------------:|
|Inférieur à 18.5   | Trop maigre (en anglais `underweight`)           |
|Entre 18.5 et 25   | Corpulence normale (en anglais `normal weight`) |
|Entre 25 et 30     | Surpoids (en anglais `overweight`)              |
|Supérieur à 30     | Obèse (en anglais `obese`)                    |

- Dénombrez les hommes et les femmes dans chacune de ces catégories d'IMC.

- Présentez ce tableau correctement dans le document R Markdown (formattage et légende du tableau).

- Choississez ensuite le graphique le plus adapté et ajoutez-lui une légende pour représenter graphiquement votre tableau. 

- Représentez graphiquement l'âge des individus de la manière la plus judicieuse pour déterminer s'il existe plusieurs modes dans le jeu de données.

- Calculez une nouvelle variable qualitative qui sépare les données en fonction de sous-populations représentatives de ces différents modes. Cette variable doit être encodée sous forme de facteur ordonné avec les niveaux classés par âge croissant.

- Créez un tableau qui résume les caractéristiques principales de ces sous-populations : nombre d'observations et IMC moyen.

- Extrayez un sous-tableau contenant uniquement le sous-groupe le plus jeune. Ensuite, éliminez les autres niveau de la variable que vous avez créée dans ce tableau réduit. 

- Réduisez encore ce tableau en ne gardant que les variables `gender`, `age` et `bmi`.

